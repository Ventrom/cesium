define(["exports","./Cartesian2-15709417","./when-54c2dc71","./Check-6c0211bc","./Transforms-c00dcfdd","./Math-fbfbe3b1","./GeometryAttribute-c2f3a6a0"],function(t,x,Y,P,n,W,R){"use strict";var v=Math.cos,O=Math.sin,p=Math.sqrt,a={computePosition:function(t,n,a,r,e,o,s){var i=n.radiiSquared,h=t.nwCorner,g=t.boundingRectangle,u=h.latitude-t.granYCos*r+e*t.granXSin,c=v(u),C=O(u),l=i.z*C,d=h.longitude+r*t.granYSin+e*t.granXCos,M=c*v(d),S=c*O(d),w=i.x*M,m=i.y*S,f=p(w*M+m*S+l*C);if(o.x=w/f,o.y=m/f,o.z=l/f,a){var X=t.stNwCorner;Y.defined(X)?(u=X.latitude-t.stGranYCos*r+e*t.stGranXSin,d=X.longitude+r*t.stGranYSin+e*t.stGranXCos,s.x=(d-t.stWest)*t.lonScalar,s.y=(u-t.stSouth)*t.latScalar):(s.x=(d-g.west)*t.lonScalar,s.y=(u-g.south)*t.latScalar)}}},_=new R.Matrix2,G=new x.Cartesian3,b=new x.Cartographic,y=new x.Cartesian3,I=new n.GeographicProjection;function T(t,n,a,r,e,o,s){var i=Math.cos(n),h=r*i,g=a*i,u=Math.sin(n),c=r*u,C=a*u;G=I.project(t,G),G=x.Cartesian3.subtract(G,y,G);var l=R.Matrix2.fromRotation(n,_);G=R.Matrix2.multiplyByVector(l,G,G),G=x.Cartesian3.add(G,y,G),o-=1,s-=1;var d=(t=I.unproject(G,t)).latitude,M=d+o*C,S=d-h*s,w=d-h*s+o*C,m=Math.max(d,M,S,w),f=Math.min(d,M,S,w),X=t.longitude,Y=X+o*g,v=X+s*c,O=X+s*c+o*g;return{north:m,south:f,east:Math.max(X,Y,v,O),west:Math.min(X,Y,v,O),granYCos:h,granYSin:c,granXCos:g,granXSin:C,nwCorner:t}}a.computeOptions=function(t,n,a,r,e,o,s){var i,h,g,u,c,C=t.east,l=t.west,d=t.north,M=t.south,S=!1,w=!1;d===W.CesiumMath.PI_OVER_TWO&&(S=!0),M===-W.CesiumMath.PI_OVER_TWO&&(w=!0);var m=d-M;g=(c=C<l?W.CesiumMath.TWO_PI-l+C:C-l)/((i=Math.ceil(c/n)+1)-1),u=m/((h=Math.ceil(m/n)+1)-1);var f=x.Rectangle.northwest(t,o),X=x.Rectangle.center(t,b);0===a&&0===r||(X.longitude<f.longitude&&(X.longitude+=W.CesiumMath.TWO_PI),y=I.project(X,y));var Y=u,v=g,O=x.Rectangle.clone(t,e),R={granYCos:Y,granYSin:0,granXCos:v,granXSin:0,nwCorner:f,boundingRectangle:O,width:i,height:h,northCap:S,southCap:w};if(0!==a){var p=T(f,a,g,u,0,i,h);if(d=p.north,M=p.south,C=p.east,l=p.west,d<-W.CesiumMath.PI_OVER_TWO||d>W.CesiumMath.PI_OVER_TWO||M<-W.CesiumMath.PI_OVER_TWO||M>W.CesiumMath.PI_OVER_TWO)throw new P.DeveloperError("Rotated rectangle is invalid.  It crosses over either the north or south pole.");R.granYCos=p.granYCos,R.granYSin=p.granYSin,R.granXCos=p.granXCos,R.granXSin=p.granXSin,O.north=d,O.south=M,O.east=C,O.west=l}if(0!==r){a-=r;var _=x.Rectangle.northwest(O,s),G=T(_,a,g,u,0,i,h);R.stGranYCos=G.granYCos,R.stGranXCos=G.granXCos,R.stGranYSin=G.granYSin,R.stGranXSin=G.granXSin,R.stNwCorner=_,R.stWest=G.west,R.stSouth=G.south}return R},t.RectangleGeometryLibrary=a});
//# sourceMappingURL=RectangleGeometryLibrary-af7be5c2.js.map
