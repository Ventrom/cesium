define(["exports","./Cartesian2-15709417","./Transforms-c00dcfdd","./Check-6c0211bc","./when-54c2dc71","./Math-fbfbe3b1"],function(e,c,C,l,i,r){"use strict";function f(e,n){if(l.Check.typeOf.object("normal",e),!r.CesiumMath.equalsEpsilon(c.Cartesian3.magnitude(e),1,r.CesiumMath.EPSILON6))throw new l.DeveloperError("normal must be normalized.");l.Check.typeOf.number("distance",n),this.normal=c.Cartesian3.clone(e),this.distance=n}f.fromPointNormal=function(e,n,t){if(l.Check.typeOf.object("point",e),l.Check.typeOf.object("normal",n),!r.CesiumMath.equalsEpsilon(c.Cartesian3.magnitude(n),1,r.CesiumMath.EPSILON6))throw new l.DeveloperError("normal must be normalized.");var a=-c.Cartesian3.dot(n,e);return i.defined(t)?(c.Cartesian3.clone(n,t.normal),t.distance=a,t):new f(n,a)};var o=new c.Cartesian3;f.fromCartesian4=function(e,n){l.Check.typeOf.object("coefficients",e);var t=c.Cartesian3.fromCartesian4(e,o),a=e.w;if(!r.CesiumMath.equalsEpsilon(c.Cartesian3.magnitude(t),1,r.CesiumMath.EPSILON6))throw new l.DeveloperError("normal must be normalized.");return i.defined(n)?(c.Cartesian3.clone(t,n.normal),n.distance=a,n):new f(t,a)},f.getPointDistance=function(e,n){return l.Check.typeOf.object("plane",e),l.Check.typeOf.object("point",n),c.Cartesian3.dot(e.normal,n)+e.distance};var s=new c.Cartesian3;f.projectPointOntoPlane=function(e,n,t){l.Check.typeOf.object("plane",e),l.Check.typeOf.object("point",n),i.defined(t)||(t=new c.Cartesian3);var a=f.getPointDistance(e,n),r=c.Cartesian3.multiplyByScalar(e.normal,a,s);return c.Cartesian3.subtract(n,r,t)};var m=new C.Matrix4,u=new C.Cartesian4,d=new c.Cartesian3;f.transform=function(e,n,t){l.Check.typeOf.object("plane",e),l.Check.typeOf.object("transform",n);var a=e.normal,r=e.distance,i=C.Matrix4.inverseTranspose(n,m),o=C.Cartesian4.fromElements(a.x,a.y,a.z,r,u);o=C.Matrix4.multiplyByVector(i,o,o);var s=c.Cartesian3.fromCartesian4(o,d);return o=C.Cartesian4.divideByScalar(o,c.Cartesian3.magnitude(s),o),f.fromCartesian4(o,t)},f.clone=function(e,n){return l.Check.typeOf.object("plane",e),i.defined(n)?(c.Cartesian3.clone(e.normal,n.normal),n.distance=e.distance,n):new f(e.normal,e.distance)},f.equals=function(e,n){return l.Check.typeOf.object("left",e),l.Check.typeOf.object("right",n),e.distance===n.distance&&c.Cartesian3.equals(e.normal,n.normal)},f.ORIGIN_XY_PLANE=Object.freeze(new f(c.Cartesian3.UNIT_Z,0)),f.ORIGIN_YZ_PLANE=Object.freeze(new f(c.Cartesian3.UNIT_X,0)),f.ORIGIN_ZX_PLANE=Object.freeze(new f(c.Cartesian3.UNIT_Y,0)),e.Plane=f});
//# sourceMappingURL=Plane-ff99a7c3.js.map
